# Complete Database Data Dictionary

## Core User Management Tables

### department
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| name | VARCHAR(255) | Department name, must be unique |
| description | TEXT | Department description |

### sys_user
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| user_name | VARCHAR(40) | Unique username, alphanumeric with dots, underscores, and hyphens |
| first_name | VARCHAR(40) | User's first name |
| last_name | VARCHAR(40) | User's last name |
| email | VARCHAR(100) | Unique email address |
| role | user_role | User role enum: USER, MANAGER, ADMIN, GAMEMASTER |
| password_hash | VARCHAR(255) | Hashed password |
| active | BOOLEAN | Whether the user account is active |
| locked_out | BOOLEAN | Whether the user account is locked |
| last_login | TIMESTAMPTZ | Last login timestamp |
| department_id | UUID | Reference to department |
| avatar_url | VARCHAR(255) | URL to user's avatar image |
| about_me | TEXT | User's personal description |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |
| sys_updated_at | TIMESTAMPTZ | Record update timestamp |

### sso_provider
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| name | VARCHAR(255) | Provider name |
| entity_id | VARCHAR(255) | SSO entity identifier |
| login_url | VARCHAR(255) | SSO login endpoint |
| logout_url | VARCHAR(255) | SSO logout endpoint |
| certificate | TEXT | SSO certificate |
| active | BOOLEAN | Whether the provider is active |

## Game Core System

### game
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| name | VARCHAR(255) | Game name, must be unique |
| description | TEXT | Game description |
| gamemaster | UUID | Reference to sys_user who manages the game |
| primary_color | VARCHAR(7) | Primary theme color |
| secondary_color | VARCHAR(7) | Secondary theme color |
| image_url | VARCHAR(255) | Game image URL |
| background_url | VARCHAR(255) | Game background image URL |
| currency_name | VARCHAR(50) | Name of game currency |
| currency_conversion | DECIMAL(10,4) | Currency conversion rate |
| is_active | BOOLEAN | Whether the game is active |
| advance_percentage | INTEGER | Percentage needed to advance (0-100) |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |
| sys_updated_at | TIMESTAMPTZ | Record update timestamp |

## Season System

### season
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| name | VARCHAR(255) | Season name |
| description | TEXT | Season description |
| start_date | TIMESTAMPTZ | Season start date |
| end_date | TIMESTAMPTZ | Season end date |
| theme | VARCHAR(255) | Season theme |
| battle_pass_enabled | BOOLEAN | Whether battle pass is enabled |
| current_season | BOOLEAN | Whether this is the current season |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### season_tier
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| season_id | UUID | Reference to season |
| tier_level | INTEGER | Level of the tier |
| xp_required | INTEGER | XP required to reach this tier |
| free_rewards | JSONB | Rewards for free pass holders |
| premium_rewards | JSONB | Rewards for premium pass holders |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### season_pass_progress
| Column | Type | Description |
|--------|------|-------------|
| competitor_id | UUID | Reference to competitor |
| season_id | UUID | Reference to season |
| current_tier | INTEGER | Current tier level |
| current_xp | INTEGER | Current XP in tier |
| is_premium | BOOLEAN | Whether premium pass is active |
| purchased_at | TIMESTAMPTZ | Premium pass purchase date |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |
| sys_updated_at | TIMESTAMPTZ | Record update timestamp |

## Virtual Economy System

### virtual_currency
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| currency_name | VARCHAR(50) | Name of currency |
| currency_symbol | VARCHAR(10) | Symbol for currency |
| exchange_rate | DECIMAL(10,4) | Exchange rate to real currency |
| is_premium | BOOLEAN | Whether this is premium currency |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### currency_balance
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| competitor_id | UUID | Reference to competitor |
| currency_id | UUID | Reference to virtual_currency |
| balance | DECIMAL(20,4) | Current balance |
| last_updated | TIMESTAMPTZ | Last update timestamp |

### reward_shop
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| name | VARCHAR(255) | Shop name |
| description | TEXT | Shop description |
| currency_id | UUID | Reference to virtual_currency |
| refresh_interval | VARCHAR(50) | Shop refresh interval |
| next_refresh | TIMESTAMPTZ | Next refresh timestamp |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### shop_item
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| shop_id | UUID | Reference to reward_shop |
| name | VARCHAR(255) | Item name |
| description | TEXT | Item description |
| price | INTEGER | Item price |
| item_type | VARCHAR(50) | Type of item |
| rarity | rarity_level | Item rarity |
| available_until | TIMESTAMPTZ | Availability end date |
| stock_quantity | INTEGER | Available stock |
| times_purchased | INTEGER | Total times purchased |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

## Competition System

### competition
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| name | VARCHAR(255) | Competition name |
| description | TEXT | Competition description |
| type | competition_type | Type: INDIVIDUAL, TEAM, LEAGUE, TOURNAMENT |
| start_date | TIMESTAMPTZ | Start date |
| end_date | TIMESTAMPTZ | End date |
| entry_cost | INTEGER | Cost to enter |
| max_participants | INTEGER | Maximum number of participants |
| recurrence | recurrence_pattern | Recurrence pattern |
| leaderboard_visible | BOOLEAN | Whether leaderboard is visible |
| state | VARCHAR(20) | Competition state |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |
| sys_updated_at | TIMESTAMPTZ | Record update timestamp |

## Leaderboard System

### leaderboard
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| name | VARCHAR(255) | Leaderboard name |
| description | TEXT | Leaderboard description |
| type | VARCHAR(50) | Leaderboard type |
| reset_frequency | VARCHAR(50) | Reset frequency |
| last_reset | TIMESTAMPTZ | Last reset timestamp |
| next_reset | TIMESTAMPTZ | Next reset timestamp |
| is_active | BOOLEAN | Whether leaderboard is active |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### leaderboard_entry
| Column | Type | Description |
|--------|------|-------------|
| leaderboard_id | UUID | Reference to leaderboard |
| competitor_id | UUID | Reference to competitor |
| score | BIGINT | Entry score |
| rank | INTEGER | Current rank |
| last_updated | TIMESTAMPTZ | Last update timestamp |
| metadata | JSONB | Additional metadata |

## Achievement and Badge System

### achievement
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| name | VARCHAR(255) | Achievement name |
| description | TEXT | Achievement description |
| trigger_condition | TEXT | Condition to unlock achievement |
| point_value | INTEGER | Points awarded |
| xp_value | INTEGER | XP awarded |
| is_active | BOOLEAN | Whether achievement is active |
| is_secret | BOOLEAN | Whether achievement is hidden |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### achievement_history
| Column | Type | Description |
|--------|------|-------------|
| (Same as achievement table) | | Historical achievement records |

### badge
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| name | VARCHAR(255) | Badge name |
| description | TEXT | Badge description |
| image_url | VARCHAR(255) | Badge image URL |
| award_criteria | JSONB | Criteria for awarding badge |
| xp_value | INTEGER | XP awarded |
| rarity | rarity_level | Badge rarity level |
| is_secret | BOOLEAN | Whether badge is hidden |
| is_active | BOOLEAN | Whether badge is active |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### competitor_achievement
| Column | Type | Description |
|--------|------|-------------|
| competitor_id | UUID | Reference to competitor |
| achievement_id | UUID | Reference to achievement |
| awarded_at | TIMESTAMPTZ | Award timestamp |

### competitor_badge
| Column | Type | Description |
|--------|------|-------------|
| competitor_id | UUID | Reference to competitor |
| badge_id | UUID | Reference to badge |
| awarded_at | TIMESTAMPTZ | Award timestamp |

## Quest System

### quest
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| quest_chain_id | UUID | Reference to quest chain |
| name | VARCHAR(255) | Quest name |
| description | TEXT | Quest description |
| difficulty_level | INTEGER | Quest difficulty (1-10) |
| required_level | INTEGER | Required level to start quest |
| reward_type | VARCHAR(50) | Type of reward |
| reward_amount | INTEGER | Amount of reward |
| duration_minutes | INTEGER | Time limit in minutes |
| is_repeatable | BOOLEAN | Whether quest can be repeated |
| cooldown_minutes | INTEGER | Cooldown period between attempts |
| prerequisites | JSONB | Prerequisites for starting quest |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### quest_chain
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| name | VARCHAR(255) | Quest chain name |
| description | TEXT | Quest chain description |
| required_order | BOOLEAN | Whether quests must be completed in order |
| total_quests | INTEGER | Total number of quests in chain |
| rewards | JSONB | Chain completion rewards |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### quest_objective
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| quest_id | UUID | Reference to quest |
| objective_type | VARCHAR(50) | Type of objective |
| target_amount | INTEGER | Target amount to complete |
| description | TEXT | Objective description |
| order_number | INTEGER | Order in quest sequence |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### quest_progression
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| quest_id | UUID | Reference to quest |
| competitor_id | UUID | Reference to competitor |
| status | quest_status | Status: AVAILABLE, IN_PROGRESS, COMPLETED, FAILED |
| current_progress | JSONB | Current progress details |
| started_at | TIMESTAMPTZ | Start timestamp |
| completed_at | TIMESTAMPTZ | Completion timestamp |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

## Player Progress System

### competitor
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| user_id | UUID | Reference to sys_user |
| game_id | UUID | Reference to game |
| total_points | INTEGER | Total points earned |
| current_balance | INTEGER | Current currency balance |
| level | INTEGER | Current level |
| current_xp | INTEGER | Current experience points |
| performance_group | VARCHAR(100) | Performance grouping |
| achievements | JSONB | Achievement data |
| last_active | TIMESTAMPTZ | Last activity timestamp |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |
| sys_updated_at | TIMESTAMPTZ | Record update timestamp |

## Team System

### team
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| name | VARCHAR(255) | Team name |
| description | TEXT | Team description |
| leader_id | UUID | Reference to team leader |
| image_url | VARCHAR(255) | Team image URL |
| max_members | INTEGER | Maximum team size |
| is_active | BOOLEAN | Whether team is active |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |
| sys_updated_at | TIMESTAMPTZ | Record update timestamp |

### team_member
| Column | Type | Description |
|--------|------|-------------|
| team_id | UUID | Reference to team |
| user_id | UUID | Reference to sys_user |
| join_date | TIMESTAMPTZ | Join timestamp |
| role | VARCHAR(50) | Member role |
| status | VARCHAR(20) | Member status |

### team_activity
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| team_id | UUID | Reference to team |
| activity_type | VARCHAR(50) | Type of activity |
| description | TEXT | Activity description |
| performed_by | UUID | Reference to sys_user |
| occurred_at | TIMESTAMPTZ | Activity timestamp |

## Social Features

### friend_list
| Column | Type | Description |
|--------|------|-------------|
| user_id | UUID | Reference to sys_user |
| friend_id | UUID | Reference to friend's sys_user |
| status | friend_status | Status: PENDING, ACCEPTED, BLOCKED |
| created_at | TIMESTAMPTZ | Relationship creation timestamp |
| updated_at | TIMESTAMPTZ | Last update timestamp |

### social_feed
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| feed_type | VARCHAR(50) | Type of feed |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### feed_item
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| feed_id | UUID | Reference to social_feed |
| user_id | UUID | Reference to sys_user |
| content | TEXT | Feed item content |
| item_type | VARCHAR(50) | Type of feed item |
| metadata | JSONB | Additional metadata |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

## Trading System

### trade
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| initiator_id | UUID | Reference to trade initiator |
| receiver_id | UUID | Reference to trade receiver |
| status | trade_status | Status: PENDING, ACCEPTED, REJECTED, CANCELLED, COMPLETED |
| game_id | UUID | Reference to game |
| created_at | TIMESTAMPTZ | Trade creation timestamp |
| completed_at | TIMESTAMPTZ | Trade completion timestamp |
| notes | TEXT | Trade notes |

### trade_item
| Column | Type | Description |
|--------|------|-------------|
| trade_id | UUID | Reference to trade |
| item_type | VARCHAR(50) | Type of item |
| item_id | UUID | Reference to traded item |
| quantity | INTEGER | Quantity traded |
| from_user_id | UUID | Reference to sender |
| to_user_id | UUID | Reference to receiver |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

## Customization System

### avatar_customization
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| category | VARCHAR(50) | Customization category |
| name | VARCHAR(255) | Customization name |
| description | TEXT | Customization description |
| rarity | rarity_level | Rarity level |
| preview_url | VARCHAR(255) | Preview image URL |
| unlock_criteria | JSONB | Unlock requirements |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### owned_customization
| Column | Type | Description |
|--------|------|-------------|
| competitor_id | UUID | Reference to competitor |
| customization_id | UUID | Reference to avatar_customization |
| acquired_at | TIMESTAMPTZ | Acquisition timestamp |
| equipped | BOOLEAN | Whether currently equipped |

## Chat System

### chat_group
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| name | VARCHAR(255) | Group name |
| type | VARCHAR(50) | Group type |
| created_by | UUID | Reference to creator |
| is_active | BOOLEAN | Whether group is active |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### chat_message
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| chat_group_id | UUID | Reference to chat_group |
| sender_id | UUID | Reference to sender |
| content | TEXT | Message content |
| parent_message_id | UUID | Reference to parent message |
| is_edited | BOOLEAN | Whether message was edited |
| is_deleted | BOOLEAN | Whether message was deleted |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### chat_member
| Column | Type | Description |
|--------|------|-------------|
| group_id | UUID | Reference to chat_group |
| user_id | UUID | Reference to sys_user |
| role | VARCHAR(50) | Member role |
| joined_at | TIMESTAMPTZ | Join timestamp |
| last_read_at | TIMESTAMPTZ | Last read timestamp |

## Daily Challenge System

### daily_challenge
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| game_id | UUID | Reference to game |
| challenge_date | DATE | Challenge date |
| name | VARCHAR(255) | Challenge name |
| description | TEXT | Challenge description |
| reward_type | VARCHAR(50) | Type of reward |
| reward_amount | INTEGER | Amount of reward |
| difficulty | VARCHAR(50) | Challenge difficulty |
| requirements | JSONB | Completion requirements |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

### challenge_progress
| Column | Type | Description |
|--------|------|-------------|
| challenge_id | UUID | Reference to daily_challenge |
| competitor_id | UUID | Reference to competitor |
| progress | INTEGER | Current progress |
| completed | BOOLEAN | Whether completed |
| completed_at | TIMESTAMPTZ | Completion timestamp |
| sys_created_at | TIMESTAMPTZ | Record creation timestamp |

## Maintenance Schema

### maintenance.index_stats_history
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| schema_name | VARCHAR(255) | Schema name |
| table_name | VARCHAR(255) | Table name |
| index_name | VARCHAR(255) | Index name |
| index_size_bytes | BIGINT | Size of index in bytes |
| index_scans | BIGINT | Number of index scans |
| rows_fetched | BIGINT | Number of rows fetched using index |
| rows_inserted | BIGINT | Number of rows inserted |
| fragmentation_percent | DECIMAL(5,2) | Index fragmentation percentage |
| recorded_at | TIMESTAMPTZ | Recording timestamp |

### maintenance.maintenance_log
| Column | Type | Description |
|--------|------|-------------|
| sys_id | UUID | Primary key, automatically generated |
| operation_type | VARCHAR(50) | Type of maintenance operation |
| target_object | VARCHAR(255) | Object being maintained |
| start_time | TIMESTAMPTZ | Operation start time |
| end_time | TIMESTAMPTZ | Operation end time |
| status | VARCHAR(50) | Operation status |
| error_message | TEXT | Error message if failed |
| details | JSONB | Additional operation details |
